(this.webpackJsonpdidtutorial=this.webpackJsonpdidtutorial||[]).push([[0],{1037:function(e,t){},1039:function(e,t){},1049:function(e,t){},1051:function(e,t){},1076:function(e,t){},1077:function(e,t){},1082:function(e,t){},1084:function(e,t){},1091:function(e,t){},1110:function(e,t){},1132:function(e,t){},1133:function(e,t){},1143:function(e,t){},1181:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(18),c=n.n(a),o=(n(543),n(39)),s=n(98),d=n(34),l=n(1213),u=n(1212),p=n(413),h=n(341),y=n(525),j=n.n(y),b=n(81),x=n(1189),m=n(121),f=n(1183),g=n(432),w=n(8),v=i.a.createContext({currentKey:"",currentKeyName:"",setCurrentKey:function(){},setCurrentKeyName:function(){}}),O=function(e){var t=e.children,n=i.a.useContext(v),r=i.a.useState(n.currentKeyName),a=Object(o.a)(r,2),c=a[0],s=a[1],d=i.a.useState(n.currentKey),l=Object(o.a)(d,2),u={currentKey:l[0],currentKeyName:c,setCurrentKey:l[1],setCurrentKeyName:s};return Object(w.jsx)(v.Provider,{value:u,children:t})};n(545);var C=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Decentralized ID Demo"}),Object(w.jsx)("p",{children:"This page demonstrait what decentralized ID can."}),Object(w.jsx)(s.b,{to:"/key",children:Object(w.jsx)("h2",{children:"Key selection"})}),Object(w.jsx)(s.b,{to:"/sign",children:Object(w.jsx)("h2",{children:"Sign and issue a credential"})}),Object(w.jsx)(s.b,{to:"/verify",children:Object(w.jsx)("h2",{children:"verify credentials"})})]})},k=n(7),K=n.n(k),S=n(17),D=n(522),L=n(340),M=n.n(L),P=n(424),N=n(428),I=n(109),E=n.n(I),A=(n(305),n(306),n(307),n(169)),U=new(n(339).default)("didtutorial");U.version(1).stores({dids:"++id, name, hasPrivKey"});var T=U;var V=function(){var e=i.a.useContext(v),t=i.a.useState(""),n=Object(o.a)(t,2),r=n[0],a=n[1],c=i.a.useState(""),s=Object(o.a)(c,2),d=s[0],l=s[1],u=function(){var e=Object(S.a)(K.a.mark((function e(){var t,n,i,a,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=9;break}return t=Object(A.a)(),e.next=4,t.generate();case 4:n=e.sent,i=n.didDocument,a=n.methodFor,c=a({purpose:"assertionMethod"}),T.dids.put({name:r,hasPrivKey:1,did:i.id,assertionKeyPair:c,diddoc:i});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(S.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.dids.delete(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=Object(S.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setCurrentKeyName(n.name),e.setCurrentKey(n.assertionKeyPair),l(JSON.stringify(n.diddoc,null,2)),console.log(e.currentKeyName);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=Object(D.useLiveQuery)((function(){return T.dids.where("hasPrivKey").equals(1).toArray()}));return Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{children:[" ",e.currentKeyName," "]}),Object(w.jsx)("h1",{children:"Key preparation"}),Object(w.jsx)("h2",{children:"Chose a key you use"}),Object(w.jsx)(M.a,{title:"Your DIDs",data:y,columns:[{title:"Name",field:"name"},{title:"Decentralized Identifier",field:"did"}],actions:[{icon:"save",tooltip:"Use this DID",onClick:function(e,t){return h(t)}},{icon:"delete",tooltip:"Delete this DID",onClick:function(e,t){return p(t.name)}}],options:{sorting:!1}}),Object(w.jsx)("h3",{children:"DID Document of the key you choosed"}),Object(w.jsx)(E.a,{mode:"json",theme:"cobalt",style:{width:"100%"},readOnly:!0,wrapEnabled:!0,minLines:20,maxLines:50,name:"DID Document Representation",value:d}),Object(w.jsx)("h2",{children:"Generate a new key"}),Object(w.jsxs)("div",{children:[Object(w.jsx)(P.a,{label:"Key Name",onChange:function(e){return a(e.target.value)}}),Object(w.jsx)(N.a,{variant:"contained",color:"primary",onClick:u,children:"Generate new key"})]}),Object(w.jsx)("h2",{children:"Your key"}),Object(w.jsx)("h2",{children:"Save key"}),Object(w.jsx)("div",{children:Object(w.jsx)(N.a,{variant:"contained",color:"primary",children:"Save key"})})]})},J=n(108),X=n(206),F=n(120),H=n.n(F),R={"@context":["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],id:"https://example.com/credentials/1872",type:["VerifiableCredential","AlumniCredential"],issuer:"https://example.edu/issuers/565049",issuanceDate:"2010-01-01T19:23:24Z",credentialSubject:{id:"did:example:ebfeb1f712ebc6f1c276e12ec21",alumniOf:"Example University"}},B=n(135),z={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2020:{"@id":"https://w3id.org/security#Ed25519VerificationKey2020","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyMultibase:{"@id":"https://w3id.org/security#publicKeyMultibase","@type":"https://w3id.org/security#multibase"}}},Ed25519Signature2020:{"@id":"https://w3id.org/security#Ed25519Signature2020","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},proofValue:{"@id":"https://w3id.org/security#proofValue","@type":"https://w3id.org/security#multibase"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}},Z={"@context":[{"@version":1.1},"https://www.w3.org/ns/odrl.jsonld",{ex:"https://example.org/examples#",schema:"http://schema.org/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#","3rdPartyCorrelation":"ex:3rdPartyCorrelation",AllVerifiers:"ex:AllVerifiers",Archival:"ex:Archival",BachelorDegree:"ex:BachelorDegree",Child:"ex:Child",CLCredentialDefinition2019:"ex:CLCredentialDefinition2019",CLSignature2019:"ex:CLSignature2019",IssuerPolicy:"ex:IssuerPolicy",HolderPolicy:"ex:HolderPolicy",Mother:"ex:Mother",RelationshipCredential:"ex:RelationshipCredential",UniversityDegreeCredential:"ex:UniversityDegreeCredential",ZkpExampleSchema2018:"ex:ZkpExampleSchema2018",issuerData:"ex:issuerData",attributes:"ex:attributes",signature:"ex:signature",signatureCorrectnessProof:"ex:signatureCorrectnessProof",primaryProof:"ex:primaryProof",nonRevocationProof:"ex:nonRevocationProof",alumniOf:{"@id":"schema:alumniOf","@type":"rdf:HTML"},child:{"@id":"ex:child","@type":"@id"},degree:"ex:degree",degreeType:"ex:degreeType",degreeSchool:"ex:degreeSchool",college:"ex:college",name:{"@id":"schema:name","@type":"rdf:HTML"},givenName:"schema:givenName",familyName:"schema:familyName",parent:{"@id":"ex:parent","@type":"@id"},referenceId:"ex:referenceId",documentPresence:"ex:documentPresence",evidenceDocument:"ex:evidenceDocument",spouse:"schema:spouse",subjectPresence:"ex:subjectPresence",verifier:{"@id":"ex:verifier","@type":"@id"}}]},G={"@context":{"@protected":!0,id:"@id",type:"@type",alsoKnownAs:{"@id":"https://www.w3.org/ns/activitystreams#alsoKnownAs","@type":"@id"},assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"},service:{"@id":"https://www.w3.org/ns/did#service","@type":"@id","@context":{"@protected":!0,id:"@id",type:"@type",serviceEndpoint:{"@id":"https://www.w3.org/ns/did#serviceEndpoint","@type":"@id"}}},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}},W={"@context":{id:"@id",type:"@type","@protected":!0,X25519KeyAgreementKey2020:{"@id":"https://w3id.org/security#X25519KeyAgreementKey2020","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyMultibase:{"@id":"https://w3id.org/security#publicKeyMultibase","@type":"https://w3id.org/security#multibase"}}}}},Y=H.a.defaultDocumentLoader,q=Object(A.a)(),Q=Object(B.extendContextLoader)(function(){var e=Object(S.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t.startsWith("did:key:")){e.next=12;break}return e.prev=2,e.next=5,q.get({url:t});case 5:return n=e.sent,e.abrupt("return",{contextUrl:null,documentUrl:t,document:n});case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:if("https://w3id.org/security/suites/ed25519-2020/v1"!==t){e.next=14;break}return e.abrupt("return",{contextUrl:null,documentUrl:t,document:z});case 14:if("https://w3id.org/security/suites/x25519-2020/v1"!==t){e.next=16;break}return e.abrupt("return",{contextUrl:null,documentUrl:t,document:W});case 16:if("https://www.w3.org/2018/credentials/examples/v1"!==t){e.next=18;break}return e.abrupt("return",{contextUrl:null,documentUrl:t,document:Z});case 18:if("https://www.w3.org/ns/did/v1"!==t){e.next=20;break}return e.abrupt("return",{contextUrl:null,documentUrl:t,document:G});case 20:return e.abrupt("return",Y(t));case 21:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),$={simple:JSON.stringify(R,null,2)};var _=function(){var e=i.a.useContext(v),t=i.a.useState($.simple),n=Object(o.a)(t,2),r=n[0],a=n[1],c=i.a.useState(""),s=Object(o.a)(c,2),d=s[0],l=s[1],u=i.a.useState(""),p=Object(o.a)(u,2),h=p[0],y=p[1],j=function(){var t=Object(S.a)(K.a.mark((function t(){var n,i,a,c,o;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.a.from(e.currentKey);case 3:return n=t.sent,i=new X.a({key:n}),a=JSON.parse(r),t.next=8,H.a.issue({credential:a,suite:i,documentLoader:Q});case 8:c=t.sent,o=JSON.stringify(c,null,2),l(o),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(S.a)(K.a.mark((function t(){var n,r,i,a,c,o;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"ebc6f1c2","did:ex:12345",n=JSON.parse(d),r=H.a.createPresentation({verifiableCredential:n,id:"ebc6f1c2",holder:"did:ex:12345"}),t.next=7,J.a.from(e.currentKey);case 7:return i=t.sent,a=new X.a({key:i}),"hogehoge",t.next=12,H.a.signPresentation({presentation:r,suite:a,challenge:"hogehoge",documentLoader:Q});case 12:c=t.sent,o=JSON.stringify(c,null,2),y(o),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Sign to issued credential"}),Object(w.jsx)("h2",{children:"Credentials"}),Object(w.jsx)(E.a,{mode:"json",theme:"cobalt",style:{width:"100%"},readOnly:!1,wrapEnabled:!0,minLines:20,maxLines:50,name:"Credential to be issued",value:r,onChange:a}),Object(w.jsx)("h2",{children:"Verifiable Credential"}),Object(w.jsx)("p",{children:Object(w.jsx)(N.a,{variant:"contained",color:"primary",onClick:j,children:"Sign to the credential"})}),Object(w.jsx)(E.a,{mode:"json",theme:"cobalt",style:{width:"100%"},readOnly:!0,wrapEnabled:!0,minLines:20,maxLines:50,name:"Credential to be issued",value:d}),Object(w.jsx)("h2",{children:"Verifiable Presentation"}),Object(w.jsx)("p",{children:Object(w.jsx)(N.a,{variant:"contained",color:"primary",onClick:b,children:"Create verifiable presentation"})}),Object(w.jsx)(E.a,{mode:"json",theme:"cobalt",style:{width:"100%"},readOnly:!0,wrapEnabled:!0,minLines:20,maxLines:50,name:"Credential to be issued",value:h}),Object(w.jsxs)("p",{children:["This is not ",Object(w.jsx)("i",{children:"unsigned"})," presentation."]})]})};Object(A.a)();var ee=function(){var e=i.a.useContext(v),t=i.a.useState(""),n=Object(o.a)(t,2),r=n[0],a=n[1],c=i.a.useState(""),s=Object(o.a)(c,2),d=s[0],l=s[1],u=function(){var t=Object(S.a)(K.a.mark((function t(){var n,i,a,c,o;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.a.from(e.currentKey);case 3:return n=t.sent,i=new X.a({key:n}),"hogehoge",a=JSON.parse(r),t.next=9,H.a.verify({presentation:a,documentLoader:Q,challenge:"hogehoge",suite:i});case 9:c=t.sent,console.log(c),o=JSON.stringify(c,null,2),l(o),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Verify credential"}),Object(w.jsx)("h2",{children:"Paste verifiable presentation here"}),Object(w.jsx)(E.a,{mode:"json",theme:"cobalt",style:{width:"100%"},readOnly:!1,wrapEnabled:!0,minLines:20,maxLines:50,name:"Credential to be issued",value:r,onChange:a}),Object(w.jsx)("h2",{children:"Verify"}),Object(w.jsx)("p",{children:Object(w.jsx)(N.a,{variant:"contained",color:"primary",onClick:u,children:"Verify the verifiable presentation"})}),Object(w.jsx)(E.a,{mode:"json",theme:"cobalt",style:{width:"100%"},readOnly:!0,wrapEnabled:!0,minLines:20,maxLines:50,name:"Credential to be issued",value:d})]})};var te=function(){var e=i.a.useState(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],a=i.a.useContext(v);return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(O,{children:Object(w.jsxs)(s.a,{basename:"/didtutorial/",children:[Object(w.jsx)(u.a,{position:"static",children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(h.a,{edge:"start",color:"inherit",onClick:function(e){r(!0)},children:Object(w.jsx)(j.a,{})}),a.currentKeyName.length>0&&Object(w.jsxs)(m.a,{children:["Key: ",a.currentKeyName]})]})}),Object(w.jsx)(b.a,{variant:"temporary",anchor:"left",onClose:function(e){r(!1)},open:n,children:Object(w.jsx)("div",{style:{width:240},onClick:function(e){r(!1)},onKeyDown:function(e){r(!1)},children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(s.b,{to:"/",children:Object(w.jsxs)(f.a,{button:!0,children:[" ",Object(w.jsx)(g.a,{primary:"Home"})," "]},"home")}),Object(w.jsx)(s.b,{to:"/key",children:Object(w.jsxs)(f.a,{button:!0,children:[" ",Object(w.jsx)(g.a,{primary:"Key"})," "]},"key")}),Object(w.jsx)(s.b,{to:"/sign",children:Object(w.jsx)(f.a,{button:!0,children:Object(w.jsx)(g.a,{primary:"Sign"})},"sign")}),Object(w.jsx)(s.b,{to:"/verify",children:Object(w.jsx)(f.a,{button:!0,children:Object(w.jsx)(g.a,{primary:"Verify"})},"verify")})]})})}),Object(w.jsx)(l.a,{maxWidth:"md",children:Object(w.jsxs)(d.c,{children:[Object(w.jsx)(d.a,{exact:!0,path:"/",component:C}),Object(w.jsx)(d.a,{exact:!0,path:"/key",component:V}),Object(w.jsx)(d.a,{exact:!0,path:"/sign",component:_}),Object(w.jsx)(d.a,{exact:!0,path:"/verify",component:ee})]})})]})})})},ne=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,1584)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(te,{})}),document.getElementById("root")),ne()},543:function(e,t,n){},545:function(e,t,n){}},[[1181,1,2]]]);
//# sourceMappingURL=main.c550b832.chunk.js.map